type: java
image: maven:3.6.0-jdk-8-alpine
steps:
  - ./gradlew build
  - mvn -B -U deploy:deploy-file -DgroupId=com.github.geowarin -DartifactId=docker-junit-rule -Dversion=1.2.0 -Dpackaging=jar -Dfile=./build/libs/docker-junit-rule-1.2.0.jar -DrepositoryId=${MVN_SERVER_ID} -Durl=${MVN_SERVER_ID}::default::${CODEARTIFACT_ENDPOINT}
